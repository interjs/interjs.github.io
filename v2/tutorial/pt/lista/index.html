<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="shortcut icon" href="/images/Inter.png">
        <link rel="stylesheet" href="/style/docs.css">
        <link rel="stylesheet" href="/codemirror/css/codemirror.css">
        <link rel="stylesheet" href="/codemirror/css/theme.css">
        <link rel="stylesheet" href="/style/all.css">
        <script src="/script/all.js"></script>
        <script src="/codemirror/js/codemirror.js"></script>
        <script src="/codemirror/js/css.js"></script>
        <script src="/codemirror/js/htmlmixed.js"></script>
        <script src="/codemirror/js/javascript.js"></script>
        <script src="/codemirror/js/vbscript.js"></script>
        <script src="/codemirror/js/xml.js"></script>
        <script src="/script/inter.js"></script>
       <title>Lista</title>
        
    </head>
    <body>
        <style>
       .CodeMirror {
    border: 1px solid #eee;
    height: auto;
  }
img {
    width: 20vw;
    height: 20vh;
}

#lingsDeProgramacao {
    display: flex;
    flex-wrap: wrap;
}

#lingsDeProgramacao > div {
    margin-left: 3%;
    margin-top: 3%;
}
        </style>
        
        <div class="main">
           
            <aside>
                <nav>
                    <ul class="social">
                        
                       <li><a href="https://github.com/DenisPower1/inter" title="Github"><i class="fab fa-github"></i></a></li>
                       <li><a href="https://www.facebook.com/groups/3015405535345615/" title="Facebook" ><i class="fab fa-facebook"></i></a></li>
                       <li><a href="https://gitter.im/Interjs/community" title="Gitter" ><i class="fab fa-gitter"></i></a></li>
                    </ul>
                </nav>

                <nav>
                    <ul class="nav">
                    <li>
                            <a href="/v2/tutorial/pt/introducao/">
                                Introdução
                            </a>
                            </li>
                            <li>
                            <a href="/v2/tutorial/pt/instalacao/">
                                Instalação
                            </a>
                        </li>
                        <li>
                            <a href="/v2/tutorial/pt/referencia">Referência</a>
                        </li>
                        
                        <li>
                            <a href="/v2/tutorial/pt/gerenciador-de-atributos">Gerenciador<br> de atributos</a>
                        </li>
                        
                        <li>
                            <a href="/v2/tutorial/pt/renderizacao-condicional">Renderização condicional</a>
                        </li>
                        
                        <li>
                            <a href="/v2/tutorial/pt/lista">Lista</a>
                        </li>
                        <li>
                            <a href="/v2/tutorial/pt/reator">Reator</a>
                        </li>
                        
                        <li>
                            <a href="/v2/tutorial/pt/ajax">Ajax</a>
                        </li>
                    </ul>
                </nav>
            </aside>
          
        <article>
            <div>
                <h1><a href="#lista" id="lista" class="hash">Lista</a></h1>

                <p>Para renderizar uma lista, nós usamos 
                    a função nativa do Inter chamada <span class="hl">renderList</span>, como as outras
                    funções, ela apenas recebe um objecto como o seu argumento e o referido
                    objecto deve ter as seguintes propriedades:
                </p>

                
                    <ul class="items">

                    <li>
                       <span class="hl">in</span> - Deve ser uma string que vai indicar o valor do atributo id do elemento onde a lista
                        será renderizada.
                    </li>
                    <li>
                        <span class="hl">optimize</span> - Essa propriedade foi adicionada desde a versão
                        <a href="https://github.com/interjs/inter/releases/tag/v2.2.3" target="_blank" class="hash">2.2.3</a>, ela serve para optimizar a performance da lista, vai até a parte
                        que fala sobre a <a href="#opcao-optimize" class="hash">opção optimize</a> nessa matéria para uma explicação mais detalhada.
                     </li>
                    <li>
                       <span class="hl">each</span>  - Representa os dados em que a lista será baseada, o valor dessa propriedade pode
					   ser uma <span class="hl">Array</span> , um <span class="hl">objecto</span>, <span class="hl">Set</span>,
                       <span class="hl">Map</span> ou um <span class="hl">número</span>. 
                    </li>
                    <li>
                        <span class="hl">do</span>  - Deve ser um método, e ele será invocado pela quantidade de dados. Para
                        mais info vai até à parte que fala sobre a <a href="#opcao-do" class="hash">opção do</a> nessa matéria.
                    </li>
                    
                </ul>

                <h3>
                   <a href="#a-funcao-template" id="a-funcao-template" class="hash">
                    A função template
                   </a>
                </h3>

                <p>
                    O template da nossa lista deve ser expresso com a função <span class="hl">template</span>,
                    essa função recebe apenas um objecto como o seu argumento e o referido objecto
                    aceita as seguintes propriedades:
                </p>

                <ul class="items">

                    <li>
                        <span class="hl">tag</span>(obrigatório) - O valor
                        dessa propriedade deve indicar o nome da tag que será criada,
                        o valor deve ser apenas uma string ou uma função. Se for uma função,
                        ela  deve retornar uma string(que vai representar o nome da tag).
                    </li>

                    <li>
                        <span class="hl">text</span> - O valor dessa propriedade vai indicar o texto do elemento criado. Se o valor
                        for <span class="hl">null</span> ou <span class="hl">undefined</span>, o texto não será criado, e se o valor for uma função, ela será
                        invocada e o valor retornado pela função vai representar o texto do elemento.
                    </li>
					<li>
					<span class="hl">renderIf</span> - Essa propriedade antes da versão <span class="hl">2.1.0</span>
                    aceitava apenas valores booleano, mas agora se o valor da referida propriedade for
                    <span class="hl">null</span>, <span class="hl">undefined</span>, <span class="hl">false</span>,
                        <span class="hl">0</span> ou uma <span class="hl">string</span> vázia, o elemento não
                        será renderizado, caso o contrário(se for qualquer valor menos os citados), o elemento será renderizado.
					</li>
                    <li>
                        <span class="hl">attrs</span> - Deve ser um objecto, e as propriedades do referido objecto
                        serão os atributos do elemento e os valores das propriedades serão os  valores
                        dos respectivos atributos. Se o valor for uma função, a função será invocada e o valor
                        retornado pela função será o valor do atributo. Se o valor for <span class="hl">null</span>
                        <span class="hl">undefined</span>, ou <span class="hl">false</span> o atributo não será criado.
                    </li>
                    <li>
                        <span class="hl">events</span> - Deve ser um objecto, e as propriedades do referido objecto
                        serão os eventos que o elemento escutará, e os valores das propriedades devem ser funções que
                        serão invocadas quando os eventos ocorrerem, e o nome do evento deve ser oficial do DOM.
                    </li>

                    <li>
                        <span class="hl">styles</span> - Deve ser um objecto, e as propriedades do referido objecto
                        serão os nomes dos estilos que serão aplicados no elemento, e os valores, serão os valores dos respectivos estilos. Se o valor
                        for uma função, a função será invocada e o valor retornado pela função será o valor do estilo.
                        Se o valor for <span class="hl">null</span> ou <span class="hl">undefined</span>,
                        o estilo não será criado, e o nome do estilo deve ser oficial do CSS.
                    </li>
                    <li>
                        <span class="hl">children</span> - Deve ser uma Array de objectos que aceitam as mesmas
                        propriedades que o objecto da função <span class="hl">template</span>,
                        e os elementos produzidos na referida Array, serão os filhos do elemento que estamos a nos referir.
                    </li>

                </ul>

    
                <p>Vê um exemplo:</p>
       
<textarea id="Editor1">

<div id="lista1"></div>

 <script>

const homens = [
    { nome: "Piter", idade: 24, casado: false },
    { nome: "Bob", idade: 19, casado: false },
    { nome: "Armando", idade: 42, casado: true }
    ];
 
 const reator = renderList({
    in: "lista1",
    each: homens,
    do(homem){

        const { nome, casado, idade } = homem;
        const buttonAttrs = { disabled: casado };
        const buttonEvents = { onclick: () => homem.casado = true  };

        return template({
            tag: "div", children: [{
                tag: "h4", text: nome
            },{
                tag: "div", children: [{
                    tag: "p", text: `O ${nome} é casado`, renderIf: casado
                },{
                    tag: "p", text: `O ${nome} está com ${idade} anos`
                }]
            },{
                tag: "button", text: "Casar", attrs: buttonAttrs, events: buttonEvents
            }]
        })

    }
 })

</script>

                </textarea>
<div class="demo">
    <div id="lista1"></div>   
    <div class="space"></div>
</div>
<h3 id="opcao-do"><a href="#opcao-do" id="opcao-do" class="hash"> Opção do</a> </h3>
<div class="warning">
                <p>
                    Dentro do metódo <span class="hl">do</span>,
                    a palavra-chave <span class="hl">this</span>, indica
                    o <a href="/v2/tutorial/pt/reator">reator</a> da lista e 
                    a função <span class="hl">renderList</span> também retorna
                    o <a href="/v2/tutorial/pt/reator">reator</a> da lista. O referido método deve retornar
					a função <span class="hl">template</span>.
                </p>

</div>

<p>
    O número de argumentos que esse método recebe, depende do valor da opção <span class="hl">each</span>.
    Se o valor for uma <span class="hl">Array</span>, essa função vai receber três argumentos.
</p>

<ul class="items">

    <li>O primeiro argumento será o item atual na iteração.</li>
    <li>O segundo argumento será a posição do item atual na Array.</li>
    <li>O terceiro argumento será o reator da lista.</li>

</ul>

<p>
    Se o valor for <span class="hl">Set</span>, a função vai receber dois argumentos.
</p>

<ul class="items">
    <li>O primeiro argumento será o item atual na iteração.</li>
    <li>O segundo argumento será o reator da lista.</li>
</ul>

<p>
    Se o valor for <span class="hl">objecto</span> ou <span class="hl">Map</span>, a função vai receber três argumentos.
</p>

<ul class="items">

    <li>O primeiro argumento será o nome da propriedade atual na iteração.</li>
    <li>O segundo argumento será o valor da propriedade.</li>
    <li>O terceiro argumento será o reator da lista.</li>

</ul>

<textarea id="Editor2">

<div>
    <h4>Cartão de Programador(a)</h4>
    <ul id="cartao"></ul>
</div>
<script>

const dados = {
    Nome: "Paulo Neto",
    De: "Angola/Huambo",
    Domina: "HTML, CSS, Javascript, PHP, C++, MYSQL",
    Fala: "Português, Espanhol e Inglês",
    Trabalha: "Sim",
    Tem: "15 anos de experiência",
    Foco: "Backend"
}

const cartao = renderList({
    in: "cartao",
    each: dados,
    do(propriedade, valor){

        return template({
            tag: "li", text: `${propriedade} : ${valor}.`
        })

    }
})

    </script>

</textarea>
<div class="demo">
    
    <div>

        <h4>Cartão de Programador(a)</h4>
        <ul id="cartao"></ul>
        <div class="space"></div>          
        </div>
</div>
<p>Use o objecto <span class="hl">cartao</span> para modificar a lista.</p>
<p>Se o valor da opção <span class="hl">each</span> for um número(Number), a função vai receber apenas um
    argumento, que será o número atual na iteração.
</p>


<h3><a href="#o-reator-da-lista" id="o-reator-da-lista" class="hash"> O reator da lista</a></h3>


<p>
    O Inter é reativo por padrão, então, quando você alterar os dados da lista, o Inter vai
    se aperceber e atualizar a lista para refletir as novas informações.
</p>
<p>
    Se o valor da opção <span class="hl">each</span> for  <span class="hl">Array</span>, <span class="hl">objecto</span>,
    <span class="hl">Map</span> ou <span class="hl">Set</span>, se você usar um método
    que modifica os dados em que a lista for baseada, o Inter vai reagir à essa alteração. Volte para o primeiro exemplo
    nessa matéria, abra o console e tenta fazer o seguinte: reator[0].nome="Jonatan", você
    vai ver que a parte da interface que usa aquele valor será atualizada, ou ainda podes
    ir mais longe, fazendo assim: reator.push({nome:"Teu nome", idade:"Tua idade", casado:false}), você
    vai acrescentar um item no final da lista.
</p>

<p>
    E o reator da lista tem as seguintes propriedades:
</p>

<h3><a href="#setEach" id="setEach" class="hash">SetEach</a></h3>
<p>Essa é uma propriedade reativa, só de definição, é usada quando
    quisermos definir outros dados em que listagem será baseada. Quando usamos a referida propriedade é como se estivéssemos a redefinir o valor da opção <span class="hl">each</span>.
</p>


<textarea id="Editor3">

<div>
    <h3>Lista dos teus amigos</h3>
    <div id="lista2"></div>
    <button onclick="lista2.setEach = amigos1">Pag 1</button>
    <button onclick="lista.setEach = amigos2">Pag 2</button>
</div>
<div>

<script>

const amigos1 = [
    { nome: "Anny", imagem: "/images/Anny.jpg", amigosEmComum: 0 },
    { nome: "Orlando", imagem: "/images/orlando.jpg", amigosEmComum: 7 }
];
const amigos2 = [
    { nome: "Luna", imagem: "/images/luna.jpg", amigosEmComum: 2 },
    { nome: "Ramon", imagem: "/images/Ramon.jpg", amigosEmComum: 0 }
];

const lista2 = renderList({
    in: "lista2",
    each: amigos1,
    do(amigo){

    const imgAttrs = { src: amigo.imagem, alt: "Uma pessoa" };
    const pText = `${amigo.amigosEmComum} amigos em comum`

        return template({
            tag: "div", children: [{
                tag: "h4", text: amigo.nome
            },{
                tag: "div", children: [{
                    tag: "img", attrs: imgAttrs
                }]
            },{
                tag: "p", text: pText, renderIf: amigo.amigosEmComum
            }]
        })
    }
})

</script>


</textarea>
<div class="demo">
    <div>
        <h3>Lista dos teus amigos</h3>
    <div id="lista2"></div>
    <button onclick="lista2.setEach = amigos1">Pag 1</button>
    <button onclick="lista2.setEach = amigos2">Pag 2</button>
</div>
    
<div class="space"></div>          
</div>
<h3 id="opcao-optimize"><a href="#opcao-optimize" id="opcao-optimize" class="hash"> Opção optimize</a> </h3>
<div class="warning">
    <p>Essa propriedade(opção) faz parte do Inter dese a versão
        <span class="hl">2.2.3</span>
    </p>
</div>
<p>
    Quando a lista for super grande, de milhares de itens e os containeres correspondentes
    à cada item tiverem inúmeros elementos aninhados, você vai notar uma certa queda de performance
    ao atualizar a lista, com a propriedade <span class="hl">optimize</span> definida para <span class="hl">true</span>
    a performance da lista no Inter vai até às nuvens! Mas esse ganho de performance tem uma desvantagem. Vê o exemplo:
</p>

<textarea >

  <div id="estudantes"></div>
 <script>
 
    const estudantes = [
        { nome: "Alberto Sampaio", nota: 14, professor: "João Costa", novoProf: false },
        { nome: "Angelina Guilherme", nota: 8}
    ]

    renderList({
        in: "estudantes",
        each: estudantes,
        optimize: true,
        do(estudante) {

            const { nome, nota, professor, novoProf} = estudante
            const buttonEvents = { onclick: () => estudante.novoProf = true };
            const done = { onclick: () => estudante.novoProf = false };
            const inputAttrs = { type: "text", value: professor, placeholder: "Digite" };
            const inputEvents = { oninput: (e) => estudante.professor = e.target.value }
			const h4Text = `Estudante: ${nome} ${nota > 10 ? "passou de ano" : "vai repetir"}`

            return template({
                tag: "div", children: [{
                    tag: "h4", text: h4Text
                },{
                    tag: "p", text: `O professor: ${this[0].professor}`
                },{
                    tag: "button", text: "novo Prof", renderIf: novoProf == false,
					events: buttonEvents
                },{
                    tag: "div", renderIf: novoProf, children: [{
                        tag: "input", attrs: inputAttrs, events: inputEvents
                    },{
                        tag: "button", text: "Feito", events: done
                    }]
                }]
            })
        }
    })


</script>
</textarea>
<div class="demo">
    <div id="estudantes"></div>
	<div class="space"></div>
</div>

<p>No exemplo anterior, nós usamos a opção <span class="hl">optimize</span> para optimizar a listar,
que particularmente nesse caso é disnecessário só foi usado para exemplificar a desvantagem.
Nós temos a Array estudantes que vai ser usado como os dados da nossa lista, mas um detalhe curioso é que, 
apenas o primeiro item(objecto) da lista tem as propriedades <span class="hl">professor</span> e
<span class="hl">novoProf</span>, tecnicamente não tinha como nós apresentarmos o valor da propriedade
professor no segundo elemento HTML da lista, baseando-se nas propriedades do segundo objecto, então nós usamos a
professor do primeiro objecto, até aí tudo bem, o outro porém, é que quando se usa a propriedade
<span class="hl">optimize</span> por exemplo, se uma das propriedades
do  primeiro item(objecto) da lista for alterada, o sistema
de renderização da lista vai atualizar apenas o elemento correspondente(o primeiro container),
já que o primeiro item da lista representa o primeiro elemento HTML da lista, assim
o sistema de renderização evita trabalho desnecessário ao procurar alterações em outros elementos HTML 
da lista. No nosso exemplo, quando uma das propriedades do primeiro objecto da Array for alterada,
o Inter vai supor que apenas o primeiro elemento da lista foi atualizado, já que seu reator(objecto correspondente) foi atualizado,
então não vai procurar alterações no segundo elemento HTML da lista, já que as propriedades do segundo objecto da lista estão intáctas.

</p>

<p>A lição é: Quando você utilizar essa opção para optimizar a lista, certifique-se que cada container(elemento da lista)
    use apenas os dados dos objectos correspondentes, por exemplo, o segundo elemento da lista use apenas os dados do segundo objecto da lista.
</p>

<p>Eu disse que no nosso exemplo, o uso da referida propriedade não faz diferença, não é?
Queres um exemplo em que ela faça a diferença(aumenta a performance)?
Clica em <a href="https://codepen.io/Denis-Power/pen/ZEPwvrJ?editors=0010" target="_blank">optimização
da lista</a>.
 </p>

<h3><a href="#observe" id="observe" class="hash">Método observe</a></h3>
<div class="warning">
    <p>Esse método faz parte do Inter desde a versão <span class="hl">2.1.0</span>.</p>
</div>
<p>
    Esse método aceita apenas uma função como o seu argumento, e a referida função será invocada toda
    vez que os dados forem alterados, e a função será invocada com um argumento, que será o reator da lista.
    
</p>
<textarea>

<div id="metodoObserve">
    <p>Tem { numeroDeLings } linguagens de programação
        na lista, e você removeu { removidas }
    </p>
    <div id="lingsDeProgramacao"></div>

</div>

<script>

const lingsDeprogamacao = [
    "Javascript", "Typescript", "C++" , "Go", "Dart", "Rust", "PHP", "Foltran"
    ];
    
let len = lingsDeprogamacao.length;

const ref = Ref({
    in: "metodoObserve",
    data: { removidas: 0, numeroDeLings: len }
})

const listaDeLings = renderList({
    in: "lingsDeProgramacao",
    each: lingsDeprogamacao,
    do(ling, i){

    const buttonEvents = { onclick: () => this.splice(i, 1) }

        return template({
            tag: "div", children: [{
                tag: "h4", text: ling
            },{
                tag: "button", text: "Deletar", events: buttonEvents
            }]
        })
    }
})

listaDeLings.observe((reator) => {
    ref.setRefs = {
         removidas: reator.length < len ? ref.removidas+1 : ref.removidas,
         numeroDeLings: reator.length
    }

    len = reator.length;
})

</script>
</textarea>
<div class="demo">
    <div id="metodoObserve">
    <p>Tem { numeroDeLings } linguagens de programação
        na lista, e você removeu { removidas }
    </p>
    <div id="lingsDeProgramacao"></div>
    <div class="space"></div>
</div>
</div>
<h3><a href="#addItems" id="addItems" class="hash">AddItems</a></h3>
<div class="warning">
    <p>Disponível apenas quando o reator for uma Array.</p>

</div>
<p>
    Esse método é usado para acrescentar uma certa quantidade de dados na Array reatora. 
    Ele aceita dois argumentos, o primeiro argumento deve ser uma Array, e os itens daquela Array
    serão adicionados na Array reatora. O segundo argumento deve ser um número, que vai indicar
    a posição em que os itens serão adicionados. Se a posição for 0 ou menor que zero(número negativo),
    os itens serão adicionados no princípio da Array reatora, se a posição for omitida ou se for maior que o número de itens da Array reatora,
    os itens serão adicionados no final da Array, caso contrário, os itens serão adicionados na posição pretendida. Já não
    será necessário te dizer que o Inter vai atualizar a interface para refletir as novas informações não é?
</p>

<textarea id="Editor4">

<div>
    <button onclick="adicionar3Amigos(this)">Adicionar 3 amigos</button>
    <div id="amigos"></div>
</div>

<script>

const amigos = [
    { nome: "Bob" },
    { nome: "Érica" },
    { nome: "Marta" }
];

const reator3 = renderList({
    in: "amigos",
    each: [{ nome: "Emília" }],
    do({ nome }){

    return template({
        tag: "div", children: [{
            tag: "h4", text: nome
        }]
    })
 
  }

})

function adicionar3Amigos(button){

    //Adiciona no princípio da lista.
    reator3.addItems(amigos, 0);
    button.setAttribute("disabled", true);


}

</script>

</textarea>

<div class="demo">
    <div>

        <button onclick="adicionar3Amigos(this)">Adicionar 3 amigos</button>
        
        <div id="amigos"></div>
        
        </div>
        <div class="space"></div>
</div>


<h3><a href="#reactor-setProps" id="reactor-setProps" class="hash">SetProps</a></h3>
<div class="warning">
<p>Essa propriedade faz parte do Inter desde a versão <span class="hl">2.1.0</span>, e ela
estará disponível apenas quando o <a href="../reator/">reator</a> for um objecto ou um <span class="hl">Map</span>.
</p>
</div>

<p>Como o nome a descreve, essa propriedade é usada quando pretendermos atualizar
    o valor de várias propriedades. Ela aceita apenas um objecto como o seu valor, e as propriedades
    do referido objecto devem indicar os nomes das propriedades que os seus valores serão alterados, e os
    valores, serão os novos valores para as respectivas propriedades.
</p>

<textarea>

<div>
    <ul id="info-de-livro"></ul>
    <button onclick="livro.setProps = livro1" >Livro 1</button>
    <button onclick="livro.setProps = livro2">Livro 2</button>
</div>

<script>

const livro1 = {
    nome: "Os jogadores de xadrez de Marte",
    autor: "Edgar Rice Burroughs",
    paginas: 210,
    publicadoEm: "20/2/1948"
}

const livro2 = {
    nome: "Uma princesa de Marte",
    autor: "Edgar Rice Burroughs",
    paginas: 140,
    publicadoEm: "12/8/1934"
}

const livro = renderList({
    in: "info-de-livro",
    each: {},
    do(prop, valor){

        const liText = `${prop} : ${valor}`;

        return template({ tag: "li", text: liText })
    }
})


</script>
</textarea>

<div class="demo">
    <div>
        <ul id="info-de-livro"></ul>
        <button onclick="livro.setProps = livro1" >Livro 1</button>
        <button onclick="livro.setProps = livro2">Livro 2</button>
    </div>
   <div class="space"></div>	
</div>


<h2><a href="#se-a-opcao-each-for-numero" id="se-a-opcao-each-for-numero" class="hash"> Se a opção each for número</a></h2>

<p>
    A opção <span class="hl">each</span> pode receber um número como o seu valor, 
    e o método <span class="hl">do</span> será executado contando de 0 até o referido número menos 1. O método
    <span class="hl">do</span> será executado com apenas 1 argumento, e referido argumento vai indicar o número atual(de 0 até o número anterior do valor da opção each)
    na iteração.
    
</p>

<textarea id="Editor5">
    
<ol id="lista4"></ol>

<script>

 renderList({
     in: "lista4",
     each: 5,
     do(numero){

        return template({
            tag: "li", text: `Esse é o ${numeroOrdinal(numero+1)} item da lista`
        })

     }

 })

 function numeroOrdinal(numero){

    if(numero == 1){

        return "primeiro";

    } if(numero == 2){

        return "segundo";

    } if(numero == 3){

        return "terceiro";

    } if(numero == 4){

        return "quarto"

    } if(numero == 5){

        return "quinto";

    }

 }

</script>

</textarea>
<div class="demo">
    <ol id="lista4"></ol>
    <div class="space"></div>
</div>

<h3><a href="#listaAninhada" id="listaAninhada" class="hash">Lista aninhada</a></h3>
<p>
    Se por ventura, nós quisermos fazer uma listagem em uma lista? Como fazemos isso? Vamos
    ter que usar o método <span class="hl">Map</span> da Array. Vê um exemplo
</p>

<textarea>

<div id="listaDeEncarregados"></div>
    
<script>

    const encarregados = [{
        nome: "Fernando", filhos: ["Berta", "Mário"]
    },{
        nome: "Mária", filhos: ["Gildo", "Odeth", "Léo"]
    }];

    renderList({
        in: "listaDeEncarregados",
        each: encarregados,
        do({nome, filhos}){

            const ulChildren = filhos.map((filho) => {
                return { tag: "li", text: filho }
            } )

            return template({
                tag: "div", children: [{
                    tag: "h4", text: `Encarregado(a): ${nome}`
                },{
                    tag: "p", text: `${nome} tem ${filhos.length} filhos`
                },{
                    tag: "ul", children: ulChildren
                }]
            })
        }
    })
	
</script>
</textarea>

    <div class="demo">
        <div id="listaDeEncarregados"></div>  
    <div class="space"></div>
</div>

<p>O método <span class="hl">Map</span> retorna uma Array não é?
    No nosso exemplo o valor da variável <span class="hl">ulChildren</span> 
    será uma Array de objectos e essa mesma Array é passada como o valor da propriedade
    children, sabes o que acontece depois não é? Esses objectos da Array ulChildren vão representar os elementos
    da lista. As listas aninhadas também são altamente reativas, se você abrir o console do navegdor
    nessa página e tentar modificar as Arrays <span class="hl">filhos</span> a interface será
    atualizada instantaneamente para reflitir os novos dados.

    </p>
<p>
    Quando por exemplo, o valor da opção <span class="hl">each</span> for uma Array de objectos, o Inter vai definir
    algumas propriedades reativas nos referidos objectos. E elas são:
</p>

<h3>
    <a href="#setProps" id="setProps" class="hash"> setProps</a>
</h3>
<p>Essa propriedade funciona como a <a href="#reactor-setProps">setProps do reator da lista</a>, 
    mas só que, as propriedades do objecto que estamos a nos referir é que serão atualizadas, ou seja, ela(setProps)
    é usada para atualizar os valores das propriedades do objecto de uma maneira elegante e performática. A setProps aceita apenas um objecto
    como o seu valor, e as propriedades do referido objecto devem indicar o nome das propriedades que os seus
    valores serão alterados, e os valores, serão os novos valores para as respectivas propriedades.
</p>
<textarea id="Editor6">
    
<div id="lista5"></div>

<script>

 const jogadores = [{
     nome: "Anderson", respeito: 0, nivel: 1
 },{
     nome: "William", respeito: 10, nivel: 11
 },{
     nome: "Emília", respeito: 3, nivel: 4
 }]

 renderList({
     in: "lista5",
     each: jogadores,
     do(jogador){

        const pText = `Nível: ${jogador.nivel} & Respeito: ${jogador.respeito}`

        return template({
            tag: "div", children: [{
                tag: "h4", text: `Jogador: ${jogador.nome}`
            },{
                tag: "div", children: [{
                    tag: "p", text: pText
                }]
            },{
                tag: "button", text: "Outro nível", events: {onclick: () => outronivel(jogador)}
            }]
        })

     }
 })

 function outronivel(jogador){

    jogador.setProps = {
        nivel: jogador.nivel+1,
        respeito: jogador.respeito+1
    }

 }

</script>

</textarea>
<div class="demo">
    <div id="lista5"></div>
    <div class="space"></div>
</div>
<h3><a href="#defineProps" id="defineProps" class="hash"> defineProps</a></h3>
<p>
    Essa propriedade é similar à <a href="#setProps">setProps</a>,
    a diferença é que nós usamos a referida propriedade para adicionar propriedades
    reativas no objecto.
</p>

<textarea>

<div>
  <h4>Lista de trabalhadores</h4>  
  <div id="trabalhadores"></div>
</div>

<script>

const trabalhadores = [
    { nome: "António", aposentado: true },
    { nome: "Angelina" },
    { nome: "Paulo" }
]

renderList({
    in: "trabalhadores",
    each: trabalhadores,
    do(trabalhador){

        const { nome, aposentado } = trabalhador;
        const eventos = {
             onclick(){
            //Adiciona a propriedade aposentado
            trabalhador.defineProps = { aposentado: true  }        
        }  
    }

    const pText = `${nome} já está a curtir a aposentadoria.`,
          bText = `Aposentar ${nome}`;

        return template({
            tag: "div", children: [{
                tag: "h5", text: nome
            },{
                tag: "p", text: pText, renderIf: aposentado
            },{
                tag: "button", text: bText, renderIf: !aposentado, events: eventos
            }]
        })

    }
})

</script>

</textarea>

<div class="demo">
    
<div>
    <h4>Lista de trabalhadores</h4>  
    <div id="trabalhadores"></div>
  </div>
  <div class="space"></div>
</div>

<p>No exemplo anterior, a lista foi baseada em uma Array de objectos, e você provavelmente
    notou que os dois últimos objectos não têm a propriedade <span class="hl">aposentado</span>,
    se nós adicionarmos ela directamente nos referidos objectos, ela não será reativa, ou seja, quando ela
    for alterada a interface não será atualizada, então, nós usamos a propriedade só de definição nativa
    do Inter, que é a <span class="hl">defineProps</span>, assim o Inter consegue monitorar as alterações que forem
    feitas nessa propriedade.
</p>

<h3>
    <a href="#deleteProps" id="deleteProps" class="hash"> deleteProps</a>
</h3>
<p>
    Nós usamos essa propriedade para deletar as propriedades do objecto e reagir à essa alteração, ou seja,
    ela é uma propriedade reativa como as que já foram mencionadas, quando nós usarmos essa propriedade
    para deletar as propriedades do objecto, o Inter vai se aperceber e vai atualizar a interface para refletir as novas
    informações. Essa propriedade só aceita uma Array como o seu valor, e os itens da referida Array devem ser strings
	que devem indicar os nomes das propriedades que serão deletadas.
</p>


<p>Essa matéria te explicou tudo sobre lista no Inter. Agora dê uma olhada no exemplo abaixo.</p>

<textarea>

<div id="app">
    <h4 _if="temTarefas">Tens { numeroDeTarefas } tarefas agendadas.</h4>
    <div>
        <p _if="temValorNoInput">Vais adicionar "{ texto }"</p>
        <input 
         type="text"
         placeholder="Digite a tarefa" 
         value={texto}
         oninput="ref1.texto = this.value"
         >  
         <button onclick="adicionarTarefa()" _if="temValorNoInput">Adicionar</button>
    </div>
    <div id="lista-de-tarefas"></div>
</div>

<script>

const ref1 = Ref({
    in: "app",
    data: { numeroDeTarefas: 0, texto: ""  }
})

const _if = renderIf({
    in: "app",
    data: { temTarefas: false, temValorNoInput: false   }
})

ref1.observe((nome, valor) => {
    if (nome == "texto") _if.temValorNoInput = valor.trim().length > 0;
    if (nome == "numeroDeTarefas") _if.temTarefas = valor > 0;
})

const reatorDaLista = renderList({
    in: "lista-de-tarefas",
    each: [],
    do(tarefa, i){

    const inputAttrs = { type: "text", value: tarefa.titulo, placeholder: "Edite" };
    const inputEvents = { oninput: (e) => tarefa.titulo = e.target.value };
    const editar = { onclick: () => tarefa.editar = true };
    const deletar = { onclick: () =>  this.splice(i, 1)  };
    const salvar = { onclick: () => tarefa.editar = false  };

        return template({
            tag: "div", children: [{
                tag: "h4", text: `Tens que: ${tarefa.titulo}`
            },{
                tag: "div", renderIf: !tarefa.editar , children: [{
                    tag: "button", text: "Deletar", events: deletar
                },{
                    tag: "button", text: "Editar", events: editar
                }]
            },{
                tag: "div", renderIf: tarefa.editar, children: [{
                    tag: "input", attrs: inputAttrs, events: inputEvents
                },{
                    tag: "button", text: "Salvar", events: salvar
                }]
            }]
        })

    }
})

reatorDaLista.observe((reator) => ref1.numeroDeTarefas = reator.length);

function adicionarTarefa(){
    const tarefa = { titulo: ref1.texto, editar: false  };
    reatorDaLista.unshift(tarefa);
    ref1.texto = "";
}

</script>
</textarea>
<div class="demo">
    <div id="app">
        <h4 _if="temTarefas">Tens { numeroDeTarefas } tarefas agendadas.</h4>
        <div>
            <p _if="temValorNoInput">Vais adicionar "{ texto }"</p>
            <input 
             type="text"
             placeholder="Digite a tarefa" 
             value={texto}
             oninput="ref1.texto = this.value"
             >  
             <button onclick="adicionarTarefa()" _if="temValorNoInput">Adicionar</button>
        </div>
        <div id="lista-de-tarefas"></div>
		<div class="space"></div>
    </div>
       
</div>

                <div class="Space"></div>
            </div>
        </article>
       </div>
       <script>
       const mixedMode = {
        name: "htmlmixed",
        scriptTypes: [{matches: /\/x-handlebars-template|\/x-mustache/i, mode: null},
                      {matches: /(text|application)\/(x-)?vb(a|script)/i,mode: "vbscript"}]
      };

      const editorOptions={
        mode: mixedMode,
        readOnly:true,
        lineNumbers:true,
        theme:"dracula",
        viewPortMargin: Infinity

      }

      const textAreas = Array.from(document.getElementsByTagName("textarea"));


      for(let index = 0; index < textAreas.length; index++){

        const textArea = textAreas[index];
        
      CodeMirror.fromTextArea(textArea, editorOptions);

      }

     
const homens = [
    { nome: "Piter", idade: 24, casado: false },
    { nome: "Bob", idade: 19, casado: false },
    { nome: "Armando", idade: 42, casado: true }
    ];
 
 const reator = renderList({
    in: "lista1",
    each: homens,
    do(homem){

        const { nome, casado, idade } = homem;
        const buttonAttrs = { disabled: casado };
        const buttonEvents = { onclick: () => homem.casado = true  };

        return template({
            tag: "div", children: [{
                tag: "h4", text: nome
            },{
                tag: "div", children: [{
                    tag: "p", text: `O ${nome} é casado`, renderIf: casado
                },{
                    tag: "p", text: `O ${nome} está com ${idade} anos`
                }]
            },{
                tag: "button", text: "Casar", attrs: buttonAttrs, events: buttonEvents
            }]
        })

    }
 })
    
    const dados = {
         Nome:"Paulo Neto",
         De: "Angola/Huambo",
         Domina:"HTML, CSS, Javascript, PHP, C++, MYSQL",
         Fala:"Português, Espanhol e Inglês",
         Trabalha:"Sim",
         Tem:"15 anos de experiência",
         Foco:"Backend"
     }

     const cartao = renderList({
         in:"cartao",
         each:dados,
         do(propriedade, valor){

            return template({
                tag:"li", text:`${propriedade} : ${valor}.`
            })

         }
     })

     const amigos1 = [
    { nome: "Anny", imagem: "/images/Anny.jpg" , amigosEmComum: 0},
    { nome: "Orlando", imagem: "/images/orlando.jpg", amigosEmComum: 7 }
];
const amigos2 = [
    { nome: "Luna", imagem: "/images/luna.jpg", amigosEmComum: 2 },
    {nome: "Ramon", imagem: "/images/Ramon.jpg", amigosEmComum: 0}
];

const lista2 = renderList({
    in: "lista2",
    each: amigos1,
    do(amigo){

    const imgAttrs = { src: amigo.imagem, alt: "Uma pessoa" };
    const pText = `${amigo.amigosEmComum} amigos em comum`

        return template({
            tag: "div", children: [{
                tag: "h4", text: amigo.nome
            },{
                tag: "div", children: [{
                    tag: "img", attrs: imgAttrs
                }]
            },{
                tag: "p", text: pText, renderIf: amigo.amigosEmComum
            }]
        })
    }
})

function identificarItem(item){
    let text;

     if(lista == "animais"){
        text =  `${item} é um animal`

     } else {
        text = `${item} é uma fruta`

     }

     return text;
    
}


const jogadores=[{
     nome:"Anderson", respeito:0, nivel:1
 },{
     nome:"William", respeito:10, nivel:11
 },{
     nome:"Emília", respeito:3, nivel:4
 }]

 renderList({
     in:"lista5",
     each:jogadores,
     do(jogador){

        return template({
            tag:"div", children:[{
                tag:"h4", text:`Jogador: ${jogador.nome}`
            },{
                tag:"div", children:[{
                 tag:"p", text:`Nível: ${jogador.nivel} & Respeito: ${jogador.respeito}`
                }]
            },{
                tag:"button", text:"Outro nível", events:{onclick:()=>outronivel(jogador)}
            }]
        })

     }
 })

 function outronivel(jogador){

    jogador.setProps={
        nivel:jogador.nivel+1,
        respeito:jogador.respeito+1
    }

 }

 
const amigos=[
    { nome: "Bob" },
    { nome: "Érica" },
    { nome: "Marta"}
];

const reator3=renderList({
    in:"amigos",
    each:[{ nome: "Emília" }],
    do({ nome }){

    return template({
        tag:"div", children:[{
            tag:"h4", text: nome
        }]
    })

    }
})

function adicionar3Amigos(button){

   //Adiciona no princípio da lista.
    reator3.addItems(amigos, 0);
    button.setAttribute("disabled", true);


}


renderList({
     in:"lista4",
     each:5,
     do(numero){

        return template({
            tag:"li", text:`Esse é o ${numeroOrdinal(numero+1)} item da lista`
        })

     }

 })

 function numeroOrdinal(numero){

    if(numero==1){

        return "primeiro";

    }if(numero==2){

        return "segundo";

    }if(numero==3){

        return "terceiro";

    }if(numero==4){

        return "quarto"

    }if(numero==5){

        return "quinto";

    }

 }

 const trabalhadores = [
    {nome: "António", aposentado: true},
    {nome: "Angelina"},
    {nome: "Paulo"}
]

renderList({
    in: "trabalhadores",
    each: trabalhadores,
    do(trabalhador){

        const { nome, aposentado } = trabalhador;
        const eventos = {
             onclick(){
             trabalhador.defineProps = { aposentado: true };
        }  
    }

    const pText = `${nome} já está a curtir a aposentadoria.`,
          bText = `Aposentar ${nome}`;

        return template({
            tag: "div", children: [{
                tag: "h5", text: nome
            },{
                tag: "p", text: pText, renderIf: aposentado
            },{
                tag: "button", text: bText, renderIf: !aposentado, events: eventos
            }]
        })

    }
})


const lingsDeprogamacao = [
    "Javascript", "Typescript", "C++" , "Go", "Dart", "Rust", "PHP", "Foltran"
    ];

let len = lingsDeprogamacao.length;

const ref = Ref({
    in: "metodoObserve",
    data: { removidas: 0, numeroDeLings: lingsDeprogamacao.length }
})

const listaDeLings = renderList({
    in: "lingsDeProgramacao",
    each: lingsDeprogamacao,
    do(ling, i){

    const buttonEvents = { onclick: () => this.splice(i, 1) }

        return template({
            tag: "div", children: [{
                tag: "h4", text: ling
            },{
                tag: "button", text: "Deletar", events: buttonEvents
            }]
        })
    }
})

listaDeLings.observe((reator) => {
    ref.setRefs = {
         removidas: reator.length < len ? ref.removidas+1 : ref.removidas,
         numeroDeLings: reator.length
    }

    len = reator.length;
})

const ref1 = Ref({
    in: "app",
    data: { numeroDeTarefas: 0, texto: ""  }
})

const _if = renderIf({
    in: "app",
    data: { temTarefas: false, temValorNoInput: false   }
})

ref1.observe((nome, valor) => {
    if(nome == "texto") _if.temValorNoInput = valor.trim().length > 0;
    if(nome == "numeroDeTarefas") _if.temTarefas = valor > 0;
})

const reatorDaLista = renderList({
    in: "lista-de-tarefas",
    each: [],
    do(tarefa, i){

    const inputAttrs = { type: "text", value: tarefa.titulo, placeholder: "Edite" };
    const inputEvents = { oninput: (e) => tarefa.titulo = e.target.value  };
    const editar = { onclick: () => tarefa.editar = true };
    const deletar = { onclick: () =>  this.splice(i, 1) };
    const salvar = { onclick: () => tarefa.editar = false  };

        return template({
            tag: "div", children: [{
                tag: "h4", text: `Tens que: ${tarefa.titulo}`
            },{
                tag: "div", renderIf: !tarefa.editar , children: [{
                    tag: "button", text: "Deletar", events: deletar
                },{
                    tag: "button", text: "Editar", events: editar
                }]
            },{
                tag: "div", renderIf: tarefa.editar, children: [{
                    tag: "input", attrs: inputAttrs, events: inputEvents
                },{
                    tag: "button", text: "Salvar", events: salvar
                }]
            }]
        })

    }
})

reatorDaLista.observe((reator) => ref1.numeroDeTarefas = reator.length)

function adicionarTarefa(){
    const tarefa = { titulo: ref1.texto, editar: false  };
    reatorDaLista.unshift(tarefa);
    ref1.texto = "";
    
}


const livro1 = {
    nome: "Os jogadores de xadrez de Marte",
    autor: "Edgar Rice Burroughs",
    paginas: 210,
    publicadoEm: "20/2/1948"
}

const livro2 = {
    nome: "Uma princesa de Marte",
    autor: "Edgar Rice Burroughs",
    paginas: 140,
    publicadoEm: "12/8/1934"
}

const livro = renderList({
    in: "info-de-livro",
    each: {},
    do(prop, valor){

        const liText = `${prop} : ${valor}`;

        return template({ tag: "li", text: liText })
    }
})


const encarregados = [{
        nome: "Fernando", filhos: ["Berta", "Mário"]
    },{
        nome: "Mária", filhos: ["Gildo", "Odeth", "Léo"]
    }];

    renderList({
        in: "listaDeEncarregados",
        each: encarregados,
        do({nome, filhos}){

            const ulChildren = filhos.map((filho) => {
                return { tag: "li", text: filho }
            } )

            return template({
                tag: "div", children: [{
                    tag: "h4", text: `Encarregado(a): ${nome}`
                },{
                    tag: "p", text: `${nome} tem ${filhos.length} filhos`
                },{
                    tag: "ul", children: ulChildren
                }]
            })
        }
    })
    const estudantes = [
        { nome: "Alberto Sampaio", nota: 14, professor: "João Costa", novoProf: false },
        { nome: "Angelina Guilherme", nota: 8}
    ]

    renderList({
        in: "estudantes",
        each: estudantes,
        optimize: true,
        do(estudante) {

            const { nome, nota, professor, novoProf} = estudante
            const buttonEvents = { onclick: () => estudante.novoProf = true };
            const done = { onclick: () => estudante.novoProf = false };
            const inputAttrs = { type: "text", value: professor, placeholder: "Digite novo professor " };
            const inputEvents = { oninput: (e) => estudante.professor = e.target.value }
			const h4Text = `Estudante: ${nome} ${nota > 10 ? "passou de ano" : "vai repetir"}`

            return template({
                tag: "div", children: [{
                    tag: "h4", text: h4Text
                },{
                    tag: "p", text: `O professor: ${this[0].professor}`
                },{
                    tag: "button", text: "novo Prof", renderIf: novoProf == false ,events: buttonEvents
                },{
                    tag: "div", renderIf: novoProf, children: [{
                        tag: "input", attrs: inputAttrs, events: inputEvents
                    },{
                        tag: "button", text: "Feito", events: done
                    }]
                }]
            })
        }
    })


</script>
       </script>
    </body>
</html>