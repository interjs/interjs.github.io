<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta charset="utf-8">
        <link rel="shortcut icon" href="/images/Inter.png">
        <link rel="stylesheet" href="/style/docs.css">
        <link rel="stylesheet" href="/codemirror/css/codemirror.css">
        <link rel="stylesheet" href="/codemirror/css/theme.css">
        <link rel="stylesheet" href="/style/all.css">
        <script src="/script/all.js"></script>
        <script src="/codemirror/js/codemirror.js"></script>
        <script src="/codemirror/js/css.js"></script>
        <script src="/codemirror/js/htmlmixed.js"></script>
        <script src="/codemirror/js/javascript.js"></script>
        <script src="/codemirror/js/vbscript.js"></script>
        <script src="/codemirror/js/xml.js"></script>
        <script src="/script/inter.js"></script>
        <title>Ajax</title>
		
<style>
    
    .CodeMirror {
                border: 1px solid #eee;
                height: auto;
              }

              img{
                  height: 20vh;
                  width: 20vw;
              }
</style>        
    </head>
    <body>
         
        <div class="main">
        <aside>
            
            <nav>
                <ul class="social">
                    
                   <li><a href="https://github.com/DenisPower1/inter" title="Github"><i class="fab fa-github"></i></a></li>
                   <li><a href="https://www.facebook.com/groups/3015405535345615/" title="Facebook" ><i class="fab fa-facebook"></i></a></li>
                   <li><a href="https://gitter.im/Interjs/community" title="Gitter" ><i class="fab fa-gitter"></i></a></li>
                </ul>
            </nav>

            <nav>
                <ul class="nav">
                <li>
                        <a href="/v2/tutorial/pt/introducao/">
                            Introdução
                        </a>
                        </li>
                        <li>
                        <a href="/v2/tutorial/pt/instalacao/">
                            Instalação
                        </a>
                    </li>
                    <li>
                        <a href="/v2/tutorial/pt/referencia">Referência</a>
                    </li>
                    
                    <li>
                        <a href="/v2/tutorial/pt/gerenciador-de-atributos">Gerenciador<br> de atributos</a>
                    </li>
                    
                    <li>
                        <a href="/v2/tutorial/pt/renderizacao-condicional">Renderização condicional</a>
                    </li>
                    
                    <li>
                        <a href="/v2/tutorial/pt/lista">Lista</a>
                    </li>
                    
                    
                    <li>
                        <a href="/v2/tutorial/pt/ajax">Ajax</a>
                    </li>
                </ul>
            </nav>        
</aside>

        
        <article>
            <div>
                <h1><a href="#reator" id="reator" classs="hash">Reator</a></h1>
                <p>O termo <span class="hl">Reator</span> no <span class="hl">Inter</span>, é 
                  usado para significar um objecto, Map, Set, Array que quando os seus dados forem alterados, o Inter reagirá às alterações feitas,
                refletindo os novos dados na Interface.
                </p>

  <textarea id="Editor1">

    <div id="relogio">
    <strong> { hora } : { minuto } : { segundo }  </strong>
    </div>

    <script>

   const date = new Date();

   const refs = Ref({
    in: "relogio",
    data: {
        hora: 0,
        minuto: 0,
        segundo: 0
    }
   })

   setInterval( () => {
    refs.setRefs = {
        hora: date.getHours(),
        minuto: date.getMinutes(),
        segundo: date.getMinutes(),
    }

   }, 1000 )
   
    </script>

  </textarea>

  <p>Se você está a ler essa matéria, você provavelmente já sabe conceitos do Inter, como a <a href="">referência</a>,
a função <span class="hl">Ref</span> retorna um objecto com as mesmas propriedades que o objecto <span class="hl">data</span>,
e nós devemos usar o referido objecto para atualizar os valores das referências, e na função <span class="hl">setInterval</span>,
nós atualizamos os valores das três referências que existem no exemplo, e o Inter vai reagir à essas alterações atualizando a interface, então,
isso significa que o objecto retornada pela função <span class="hl">Ref</span> é um <span class="hl">reator</span>, reator das referências.
</p>

<textarea>
<div id="todo-app">
 <div id="lista-de-todo" _if="temTodo"></div>
</div>

<script>

const todos = [
    { texto: "Cozinhar", feito: false },
    { texto: "Estudar", feito: true },
    { text: "Passear", feito: false },
    { text: "Ouvir música", feito: false  }
]

const reatorDaLista = renderList({
    in: "lista-de-todo",
    each: [],
    do(todo, i){

        const styles =  { textDecoration: todo.feito ? "through-line" : null  };
        const done = {  onclick: () => todo.feito = true };
        const Delete = { onclick: () => this.splice(i, 1)  };

        return template({
            tag:"div", children: [{
                tag:"h5", text: todo.texto, styles: styles
            },{
                tag:"button", text:"Completar", renderIf: !todo.feito, events: done
            },{
                tag: "button", text: "Deletar", renderIf: todo.feito, events: Delete
            }]
        })

    }
})

</script>

</textarea>

</div>
        </article>
        </div>
    </body>
        <script>


        const mixedMode = {
        name: "htmlmixed",
        scriptTypes: [{matches: /\/x-handlebars-template|\/x-mustache/i, mode: null},
                      {matches: /(text|application)\/(x-)?vb(a|script)/i,mode: "vbscript"}]
      };

      const editorOptions={
        mode: mixedMode,
        readOnly:true,
        lineNumbers:true,
        theme:"dracula"  
      }

    const textareas = Array.from(document.getElementsByTagName("textarea"));


      for (let index = 0; index < textareas.length; index++) {

        const textArea = textareas[index];

        CodeMirror.fromTextArea(textarea, editorOptions);

}




        </script>

</html>

